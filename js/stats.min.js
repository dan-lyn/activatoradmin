!function(){"use strict";var a={top:20,right:20,bottom:30,left:40},b=500-a.left-a.right,c=500-a.top-a.bottom,d=d3.scaleBand().range([0,b]).padding(.1),e=d3.scaleLinear().range([c,0]),f=d3.select(".statsActivated").append("svg").attr("width",b+a.left+a.right).attr("height",c+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")");d3.json("get-stats",function(a,b){if(a)throw a;d.domain(b.map(function(a){return a.name})),e.domain([0,d3.max(b,function(a){return a.value})]),f.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(d3.axisBottom(d)),f.append("g").attr("class","y axis").call(d3.axisLeft(e)).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em"),f.selectAll(".bar").data(b).enter().append("rect").attr("class","bar").attr("x",function(a){return d(a.name)}).attr("width",d.bandwidth()).attr("y",function(a){return e(a.value)}).attr("height",function(a){return c-e(a.value)}).append("title").text(function(a){return a.value+" items"})})}();