!function(){"use strict";var a={top:20,right:20,bottom:30,left:40},b=960-a.left-a.right,c=500-a.top-a.bottom,d=d3.scale.ordinal().rangeRoundBands([0,b],.1),e=d3.scale.linear().range([c,0]),f=d3.svg.axis().scale(d).orient("bottom"),g=d3.svg.axis().scale(e).orient("left").ticks(5),h=d3.select(".statsActivated").append("svg").attr("width",b+a.left+a.right).attr("height",c+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")");d3.json("get-stats",function(a,b){if(a)throw a;d.domain(b.map(function(a){return a.name})),e.domain([0,d3.max(b,function(a){return a.value})]),h.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(f),h.append("g").attr("class","y axis").call(g).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Number of items"),h.selectAll(".bar").data(b).enter().append("rect").attr("class","bar").attr("x",function(a){return d(a.name)}).attr("width",d.rangeBand()).attr("y",function(a){return e(a.value)}).attr("height",function(a){return c-e(a.value)}).append("title").text(function(a){return a.value})})}();