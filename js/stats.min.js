!function(){"use strict";var t=20,a=20,r=30,n=40,e=500-n-a,i=500-t-r,s=d3.scaleBand().range([0,e]).padding(.1),d=d3.scaleLinear().range([i,0]),c=d3.select(".statsActivated").append("svg").attr("width",e+n+a).attr("height",i+t+r).append("g").attr("transform","translate("+n+","+t+")");d3.json("get-stats",function(t,a){if(t)throw t;s.domain(a.map(function(t){return t.name})),d.domain([0,d3.max(a,function(t){return t.value})]),c.append("g").attr("class","x axis").attr("transform","translate(0,"+i+")").call(d3.axisBottom(s)),c.append("g").attr("class","y axis").call(d3.axisLeft(d)).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em");var r=c.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",function(t){return s(t.name)}).attr("width",s.bandwidth()).attr("y",i).attr("height",0);r.append("title").text(function(t){return t.value+" items"}),r.transition().duration(750).attr("y",function(t){return d(t.value)}).attr("height",function(t){return i-d(t.value)})})}();